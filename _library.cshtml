@using System.Dynamic
@functions {
	// this is a fairly complex workaround to deliver a anonymous type, because 
	// razor doesn't fully support anonymous types, so I must create an expando instead
	public dynamic unknownAuthor = ToExpando(new Dictionary<string, object>() 
		{
			{ "FullName", "Unknown" },
			{ "Image", "unknown.jpg" },
			{ "ShortBio", "bio unknown" }
		}); 
	
    public static dynamic ToExpando(Dictionary<string, object> anonymousDictionary)
    {
        IDictionary<string, object> expando = new ExpandoObject();
        foreach (var item in anonymousDictionary)
            expando.Add(item);
        return (ExpandoObject)expando;
    }
	
	// page variable for re-use
    private Page page = null;
    public void AddHeaderLine(string newHeader) {
        if(page == null)
            page = HttpContext.Current.Handler as Page;  
    	var genCon = new System.Web.UI.LiteralControl(newHeader);
        page.Header.Controls.Add(genCon);
    }
    public void AddMeta(string prop, string content) {
    	AddHeaderLine("<meta property='" + prop + "' content='" + content + "' /> ");
    }

}