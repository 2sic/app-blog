@inherits ToSic.Sxc.Dnn.RazorComponent
@using ToSic.Razor.Blade;

@{
  var helpers = CreateInstance("_Helpers.cshtml");

  var post = PageData["Post"];
  var imageUrl = Text.Has(post.Image) ? post.Image : App.Resources.PlaceholderMissingImage;
  var imageResizerParams = "?w=" + PageData["Width"]
    + "&h=" + PageData["Height"]
    + "&mode=crop&scale=both&quality=90"
    + "&anchor=" + post.CropAnchor;
}

@* Image of the post *@
<picture class="bg-primary mb-0">
  <img class="img-fluid" src="@Tags.SafeUrl(imageUrl + imageResizerParams)" alt="@post.Tile" />
</picture>

@* Show info to admin when the post will publish *@
@if(Edit.Enabled && post.PublicationMoment.CompareTo(DateTime.Now) > 0) {
  <div class="alert alert-warning mb-0" role="alert">
    @(App.Resources.LabelAdminPostPublishInfo + " " + post.PublicationMoment.Date.ToString("d"))
  </div>
}